<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="layout :: site-head">
</head>

<body class="nav-md">
	<div class="container body">
		<div class="main_container">
			<div class="col-md-3 left_col">
				<div class="left_col scroll-view">
					<div class="navbar nav_title" style="border: 0;">
						<!--<a href="index.html"><img th:src="@{~/images/cmb_logo.png}"/></a>-->
					</div>

					<div class="clearfix"></div>
					<div class="clearfix"></div>

					<div th:replace="layout :: admin-menu"></div>
					<div th:replace="layout :: menu-footer"></div>

				</div>
			</div>
			<div th:replace="layout :: top-nav"></div>

			<!-- page content -->
			<div class="right_col" role="main">
				<div class="">
					<div class="page-title">
						<div class="title_left">
							<h3>Edit Role</h3>
						</div>

					</div>

					<div class="clearfix"></div>

					<div class="row">
						<div class="col-md-12 col-sm-12 col-xs-12">
							<div class="x_panel">
								<div class="x_title">
									<h2>Add new role</h2>

									<div class="clearfix"></div>
								</div>

								<div class="x_content">

									<form method="post" th:action="@{/admin/roles/update}"
										class="form-horizontal" th:object="${role}">
										<div class="panel panel-default">
											<div class="panel-body">
												<fieldset>
													<div class="form-group">


														<div class="col-sm-4">
															<input type="hidden" class="form-control"
																th:field="*{id}" /> <input type="hidden"
																class="form-control" th:field="*{version}" />

														</div>
													</div>

													<div class="form-group col-lg-6">
														<label>Name</label> <input class="form-control"
															type="text" th:field="*{name}" />
													</div>

													<div class="form-group col-lg-6">
														<label>Email</label> <input class="form-control"
															type="text" th:field="*{email}" />
													</div>

													<div class="form-group col-lg-6">
														<label>Description</label>
														<textarea class="form-control" rows="2"
															th:field="*{description}"></textarea>
													</div>


												</fieldset>
												<fieldset>
													<legend>Permissions</legend>
													<div class="row">

														<div class="form-group text-left col-lg-5">
															<select multiple="multiple"
																class="form-control left-selector">
																<option th:each="permission: ${permissions}"
																	th:value="${permission.id}"
																	th:text="${permission.name}"></option>

															</select>
														</div>

														<div class="btn-group-vertical col-xs-2 ">
															<button type="button"
																class="btn btn-default text- btn-circle btn-default right-btn">
																<i class="fa fa-long-arrow-right"></i>
															</button>
															<button type="button"
																class="btn btn-default text-center btn-circle left-btn">
																<i class="fa fa-long-arrow-left"></i>
															</button>

														</div>
														<div class="form-group text-right col-lg-5">
															<select multiple="multiple"
																class="form-control right-selector"
																name="permissionsList">
																<option th:each="p: ${role.permissions}"
																	th:value="${p.id}" th:text="${p.name}"></option>

															</select>
														</div>

													</div>
												</fieldset>
											</div>
											<div class="panel-footer text-right">
												<button class="btn btn-white" type="submit">Cancel</button>
												<button class="btn btn-primary" id="btn-save" type="submit">Submit</button>
											</div>
										</div>
									</form>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- /page content -->

			<!-- footer content -->
			<footer th:replace="layout :: footer"> </footer>
			<!-- /footer content -->
		</div>
	</div>
	<script type="text/javascript">
		$().ready(
				function() {
					$('.left-btn').click(
							function() {
								return !$('.right-selector option:selected')
										.remove().appendTo('.left-selector');
							});
					$('.right-btn').click(
							function() {
								return !$('.left-selector option:selected')
										.remove().appendTo('.right-selector');
							});
				});
		$("#btn-save").on("click", function(e) {
			$('.right-selector option').prop("selected", true);
			$("#form-save").submit();
		});
	</script>
</body>
</html>